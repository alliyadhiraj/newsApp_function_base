{"ast":null,"code":"import _regeneratorRuntime from\"D:/Workspace/React Workspace/03_harry_project/newsapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Workspace/React Workspace/03_harry_project/newsapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"D:/Workspace/React Workspace/03_harry_project/newsapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Workspace/React Workspace/03_harry_project/newsapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/Workspace/React Workspace/03_harry_project/newsapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Workspace/React Workspace/03_harry_project/newsapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import NewsItem from'./NewsItem';import Spinner from'./Spinner';import PropTypes from'prop-types';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(){var _this;_classCallCheck(this,News);_this=_super.call(this);_this.handlePrevClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(\"click previous\");url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=31b5dd8d5a5740a6ad8e4a0957b4f950&page=\").concat(_this.state.page-1,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context.next=5;return fetch(url);case 5:data=_context.sent;_context.next=8;return data.json();case 8:parsedData=_context.sent;console.log(parsedData);_this.setState({page:_this.state.page-1,articles:parsedData.articles,loading:false});case 11:case\"end\":return _context.stop();}},_callee);}));_this.handleNextClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log('Click next');if(_this.state.page+1>Math.ceil(_this.state.totalResults/_this.props.pageSize)){_context2.next=11;break;}url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=31b5dd8d5a5740a6ad8e4a0957b4f950&page=\").concat(_this.state.page+1,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context2.next=6;return fetch(url);case 6:data=_context2.sent;_context2.next=9;return data.json();case 9:parsedData=_context2.sent;_this.setState({page:_this.state.page+1,articles:parsedData.articles,loading:false});case 11:case\"end\":return _context2.stop();}},_callee2);}));console.log(\"Hello i am constructor of newsitem\");_this.state={articles:[],loading:false,page:1};return _this;}_createClass(News,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&category=\").concat(this.props.category,\"&apiKey=31b5dd8d5a5740a6ad8e4a0957b4f950&page=1&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context3.next=4;return fetch(url);case 4:data=_context3.sent;_context3.next=7;return data.json();case 7:parsedData=_context3.sent;console.log(parsedData);this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});case 10:case\"end\":return _context3.stop();}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center my-3\",children:\"News Top HeadLines\"}),this.state.loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:!this.state.loading&&this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title:\"\",description:element.description?element.description:\"\",imageUrl:element.urlToImage,newsUrl:element.url})},element.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page<=1,type:\"button\",className:\"btn btn-dark\",onClick:this.handlePrevClick,children:\" \\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page+1>Math.ceil(this.state.totalResults/this.props.pageSize),type:\"button\",className:\"btn btn-dark\",onClick:this.handleNextClick,children:\"Next \\u2192\"})]})]});}}]);return News;}(Component);News.defaultProps={country:'in',pageSize:8,category:'general'};News.defaultPropTypes={country:PropTypes.string,pageSize:PropTypes.number,category:PropTypes.string};export default News;","map":{"version":3,"names":["React","Component","NewsItem","Spinner","PropTypes","News","handlePrevClick","console","log","url","props","country","category","state","page","pageSize","setState","loading","fetch","data","json","parsedData","articles","handleNextClick","Math","ceil","totalResults","map","element","title","description","urlToImage","defaultProps","defaultPropTypes","string","number"],"sources":["D:/Workspace/React Workspace/03_harry_project/newsapp/src/component/News.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport NewsItem from './NewsItem'\r\nimport Spinner from './Spinner';\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nexport class News extends Component {\r\n      static defaultProps = {\r\n        country: 'in',\r\n        pageSize: 8,\r\n        category: 'general'\r\n      }\r\n\r\n      static defaultPropTypes = {\r\n        country: PropTypes.string,\r\n        pageSize: PropTypes.number,\r\n        category: PropTypes.string\r\n      }\r\n\r\n  constructor() {\r\n    super();\r\n    console.log(\"Hello i am constructor of newsitem\");\r\n    this.state = {\r\n      articles: [],\r\n      loading: false,\r\n      page: 1\r\n    }\r\n\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&category=${this.props.category}&apiKey=31b5dd8d5a5740a6ad8e4a0957b4f950&page=1&pageSize=${this.props.pageSize}`\r\n    \r\n    this.setState({loading: true});\r\n    let data = await fetch(url);\r\n    let parsedData = await data.json()\r\n    console.log(parsedData);\r\n    this.setState({ articles: parsedData.articles, totalResults:parsedData.totalResults, loading: false})\r\n\r\n  }\r\n\r\n  handlePrevClick = async () => {\r\n    console.log(\"click previous\");\r\n\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=31b5dd8d5a5740a6ad8e4a0957b4f950&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\r\n    this.setState({loading: true});\r\n    let data = await fetch(url);\r\n    let parsedData = await data.json()\r\n    console.log(parsedData);\r\n    this.setState({\r\n      page: this.state.page - 1,\r\n      articles: parsedData.articles,\r\n      loading: false\r\n    })\r\n  }\r\n\r\n  handleNextClick = async () => {\r\n    console.log('Click next');\r\n\r\n    if (!(this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize))) \r\n    {\r\n      let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=31b5dd8d5a5740a6ad8e4a0957b4f950&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\r\n      this.setState({loading: true});\r\n      let data = await fetch(url);\r\n      let parsedData = await data.json()\r\n      \r\n      this.setState({\r\n        page: this.state.page + 1,\r\n        articles: parsedData.articles,\r\n        loading: false\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='container my-3'>\r\n        <h1 className='text-center my-3'>News Top HeadLines</h1>\r\n          {this.state.loading &&<Spinner/>}        \r\n        <div className='row'>\r\n          {!this.state.loading &&   \r\n           this.state.articles.map((element) => {\r\n            return <div className=\"col-md-3\" key= \r\n             {element.url}>\r\n              <NewsItem title={element.title?element.title:\"\"} description={element.description?element.description:\"\"}imageUrl={element.urlToImage}newsUrl={element.url} />\r\n            </div>\r\n          })}\r\n\r\n        </div>\r\n        <div className=\"container d-flex justify-content-between\">\r\n          <button disabled={this.state.page<=1} type=\"button\" className=\"btn btn-dark\" onClick={this.handlePrevClick}> &larr; Previous</button>\r\n          <button disabled={this.state.page+1 > Math.ceil(this.state.totalResults/this.props.pageSize)} type=\"button\" className=\"btn btn-dark\" onClick={this.handleNextClick}>Next &rarr;</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default News\r\n"],"mappings":"k0BAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAOC,SAAQ,KAAM,YAAY,CACjC,MAAOC,QAAO,KAAM,WAAW,CAC/B,MAAOC,UAAS,KAAM,YAAY,yFAGlC,UAAaC,KAAI,4FAaf,eAAc,sCACZ,wBAAQ,MAqBVC,eAAe,wEAAG,4JAChBC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAEzBC,GAAG,wDAAmD,MAAKC,KAAK,CAACC,OAAO,sBAAa,MAAKD,KAAK,CAACE,QAAQ,0DAAiD,MAAKC,KAAK,CAACC,IAAI,CAAG,CAAC,sBAAa,MAAKJ,KAAK,CAACK,QAAQ,EAChN,MAAKC,QAAQ,CAAC,CAACC,OAAO,CAAE,IAAI,CAAC,CAAC,CAAC,sBACdC,MAAK,CAACT,GAAG,CAAC,QAAvBU,IAAI,qCACeA,KAAI,CAACC,IAAI,EAAE,QAA9BC,UAAU,eACdd,OAAO,CAACC,GAAG,CAACa,UAAU,CAAC,CACvB,MAAKL,QAAQ,CAAC,CACZF,IAAI,CAAE,MAAKD,KAAK,CAACC,IAAI,CAAG,CAAC,CACzBQ,QAAQ,CAAED,UAAU,CAACC,QAAQ,CAC7BL,OAAO,CAAE,KACX,CAAC,CAAC,uDACH,SAEDM,eAAe,wEAAG,iKAChBhB,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC,CAAC,GAEpB,MAAKK,KAAK,CAACC,IAAI,CAAG,CAAC,CAAGU,IAAI,CAACC,IAAI,CAAC,MAAKZ,KAAK,CAACa,YAAY,CAAC,MAAKhB,KAAK,CAACK,QAAQ,CAAC,2BAE5EN,GAAG,wDAAmD,MAAKC,KAAK,CAACC,OAAO,sBAAa,MAAKD,KAAK,CAACE,QAAQ,0DAAiD,MAAKC,KAAK,CAACC,IAAI,CAAG,CAAC,sBAAa,MAAKJ,KAAK,CAACK,QAAQ,EAChN,MAAKC,QAAQ,CAAC,CAACC,OAAO,CAAE,IAAI,CAAC,CAAC,CAAC,uBACdC,MAAK,CAACT,GAAG,CAAC,QAAvBU,IAAI,uCACeA,KAAI,CAACC,IAAI,EAAE,QAA9BC,UAAU,gBAEd,MAAKL,QAAQ,CAAC,CACZF,IAAI,CAAE,MAAKD,KAAK,CAACC,IAAI,CAAG,CAAC,CACzBQ,QAAQ,CAAED,UAAU,CAACC,QAAQ,CAC7BL,OAAO,CAAE,KACX,CAAC,CAAC,yDAEL,GAnDCV,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC,CACjD,MAAKK,KAAK,CAAG,CACXS,QAAQ,CAAE,EAAE,CACZL,OAAO,CAAE,KAAK,CACdH,IAAI,CAAE,CACR,CAAC,cAEH,CAAC,8IAED,iKACML,GAAG,wDAAmD,IAAI,CAACC,KAAK,CAACC,OAAO,sBAAa,IAAI,CAACD,KAAK,CAACE,QAAQ,sBAAa,IAAI,CAACF,KAAK,CAACE,QAAQ,qEAA4D,IAAI,CAACF,KAAK,CAACK,QAAQ,EAE3N,IAAI,CAACC,QAAQ,CAAC,CAACC,OAAO,CAAE,IAAI,CAAC,CAAC,CAAC,uBACdC,MAAK,CAACT,GAAG,CAAC,QAAvBU,IAAI,uCACeA,KAAI,CAACC,IAAI,EAAE,QAA9BC,UAAU,gBACdd,OAAO,CAACC,GAAG,CAACa,UAAU,CAAC,CACvB,IAAI,CAACL,QAAQ,CAAC,CAAEM,QAAQ,CAAED,UAAU,CAACC,QAAQ,CAAEI,YAAY,CAACL,UAAU,CAACK,YAAY,CAAET,OAAO,CAAE,KAAK,CAAC,CAAC,8DAEtG,mIAmCD,iBAAS,CACP,mBACE,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,WAAI,SAAS,CAAC,kBAAkB,UAAC,oBAAkB,EAAK,CACrD,IAAI,CAACJ,KAAK,CAACI,OAAO,eAAG,KAAC,OAAO,IAAE,cAClC,YAAK,SAAS,CAAC,KAAK,UACjB,CAAC,IAAI,CAACJ,KAAK,CAACI,OAAO,EACnB,IAAI,CAACJ,KAAK,CAACS,QAAQ,CAACK,GAAG,CAAC,SAACC,OAAO,CAAK,CACpC,mBAAO,YAAK,SAAS,CAAC,UAAU,uBAE9B,KAAC,QAAQ,EAAC,KAAK,CAAEA,OAAO,CAACC,KAAK,CAACD,OAAO,CAACC,KAAK,CAAC,EAAG,CAAC,WAAW,CAAED,OAAO,CAACE,WAAW,CAACF,OAAO,CAACE,WAAW,CAAC,EAAG,SAAQ,CAAEF,OAAO,CAACG,UAAW,QAAO,CAAEH,OAAO,CAACnB,GAAI,EAAG,EAD9JmB,OAAO,CAACnB,GAAG,CAEP,CACR,CAAC,CAAC,EAEE,cACN,aAAK,SAAS,CAAC,0CAA0C,wBACvD,eAAQ,QAAQ,CAAE,IAAI,CAACI,KAAK,CAACC,IAAI,EAAE,CAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAE,IAAI,CAACR,eAAgB,UAAC,kBAAgB,EAAS,cACrI,eAAQ,QAAQ,CAAE,IAAI,CAACO,KAAK,CAACC,IAAI,CAAC,CAAC,CAAGU,IAAI,CAACC,IAAI,CAAC,IAAI,CAACZ,KAAK,CAACa,YAAY,CAAC,IAAI,CAAChB,KAAK,CAACK,QAAQ,CAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAE,IAAI,CAACQ,eAAgB,UAAC,aAAW,EAAS,GACpL,GACF,CAEV,CAAC,kBAzFuBtB,SAAS,EAAtBI,IAAI,CACJ2B,YAAY,CAAG,CACpBrB,OAAO,CAAE,IAAI,CACbI,QAAQ,CAAE,CAAC,CACXH,QAAQ,CAAE,SACZ,CAAC,CALMP,IAAI,CAOJ4B,gBAAgB,CAAG,CACxBtB,OAAO,CAAEP,SAAS,CAAC8B,MAAM,CACzBnB,QAAQ,CAAEX,SAAS,CAAC+B,MAAM,CAC1BvB,QAAQ,CAAER,SAAS,CAAC8B,MACtB,CAAC,CAiFP,cAAe7B,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}